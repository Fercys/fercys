{"remainingRequest":"/home/fercys/Documentos/Argentina/europeshuttle_rhombus/node_modules/babel-loader/lib/index.js!/home/fercys/Documentos/Argentina/europeshuttle_rhombus/node_modules/eslint-loader/index.js??ref--13-0!/home/fercys/Documentos/Argentina/europeshuttle_rhombus/src/routes/router.js","dependencies":[{"path":"/home/fercys/Documentos/Argentina/europeshuttle_rhombus/src/routes/router.js","mtime":1563369362898},{"path":"/home/fercys/Documentos/Argentina/europeshuttle_rhombus/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/fercys/Documentos/Argentina/europeshuttle_rhombus/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/fercys/Documentos/Argentina/europeshuttle_rhombus/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import Vue from 'vue';\nimport VueRouter from 'vue-router';\nimport routes from \"./routes\";\nimport store from \"../store/store\";\nVue.use(VueRouter); // configure router\n\nvar router = new VueRouter({\n  mode: 'history',\n  routes: routes,\n  // short for routes: routes\n  linkActiveClass: 'active',\n  scrollBehavior: function scrollBehavior(to, from, savedPosition) {\n    if (savedPosition) {\n      return savedPosition;\n    }\n\n    if (to.hash) {\n      return {\n        selector: to.hash\n      };\n    }\n\n    return {\n      x: 0,\n      y: 0\n    };\n  }\n});\nrouter.beforeEach(function (to, from, next) {\n  if (to.matched.some(function (record) {\n    return record.meta.requiresAuth;\n  })) {\n    var sesion = localStorage.getItem('es-login') !== null ? JSON.parse(localStorage.getItem('es-login')) : {\n      _id: null,\n      status: null,\n      token: null,\n      rol: null\n    };\n\n    if (!sesion.status) {\n      next('/login');\n    } else {\n      next();\n    }\n  } else {\n    next();\n  }\n});\nexport default router;",{"version":3,"sources":["/home/fercys/Documentos/Argentina/europeshuttle_rhombus/src/routes/router.js"],"names":["Vue","VueRouter","routes","store","use","router","mode","linkActiveClass","scrollBehavior","to","from","savedPosition","hash","selector","x","y","beforeEach","next","matched","some","record","meta","requiresAuth","sesion","localStorage","getItem","JSON","parse","_id","status","token","rol"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,MAAP;AACA,OAAOC,KAAP;AAEAH,GAAG,CAACI,GAAJ,CAAQH,SAAR,E,CAEA;;AACA,IAAMI,MAAM,GAAG,IAAIJ,SAAJ,CAAc;AAC3BK,EAAAA,IAAI,EAAE,SADqB;AAE3BJ,EAAAA,MAAM,EAANA,MAF2B;AAEnB;AACRK,EAAAA,eAAe,EAAE,QAHU;AAI3BC,EAAAA,cAAc,EAAE,wBAACC,EAAD,EAAKC,IAAL,EAAWC,aAAX,EAA6B;AAC3C,QAAIA,aAAJ,EAAmB;AACjB,aAAOA,aAAP;AACD;;AACD,QAAIF,EAAE,CAACG,IAAP,EAAa;AACX,aAAO;AAAEC,QAAAA,QAAQ,EAAEJ,EAAE,CAACG;AAAf,OAAP;AACD;;AACD,WAAO;AAAEE,MAAAA,CAAC,EAAE,CAAL;AAAQC,MAAAA,CAAC,EAAE;AAAX,KAAP;AACD;AAZ0B,CAAd,CAAf;AAeAV,MAAM,CAACW,UAAP,CAAkB,UAACP,EAAD,EAAKC,IAAL,EAAWO,IAAX,EAAoB;AACpC,MAAGR,EAAE,CAACS,OAAH,CAAWC,IAAX,CAAgB,UAAAC,MAAM;AAAA,WAAIA,MAAM,CAACC,IAAP,CAAYC,YAAhB;AAAA,GAAtB,CAAH,EAAwD;AACpD,QAAIC,MAAM,GAAIC,YAAY,CAACC,OAAb,CAAqB,UAArB,MAAqC,IAAtC,GAA6CC,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAX,CAA7C,GAA0F;AAACG,MAAAA,GAAG,EAAC,IAAL;AAAWC,MAAAA,MAAM,EAAC,IAAlB;AAAwBC,MAAAA,KAAK,EAAC,IAA9B;AAAoCC,MAAAA,GAAG,EAAC;AAAxC,KAAvG;;AACA,QAAI,CAACR,MAAM,CAACM,MAAZ,EAAoB;AAClBZ,MAAAA,IAAI,CAAC,QAAD,CAAJ;AACD,KAFD,MAEO;AACLA,MAAAA,IAAI;AACL;AACJ,GAPD,MAOM;AACFA,IAAAA,IAAI;AACP;AACF,CAXD;AAaA,eAAeZ,MAAf","sourcesContent":["import Vue from 'vue';\nimport VueRouter from 'vue-router';\nimport routes from './routes';\nimport store from '../store/store';\n\nVue.use(VueRouter);\n\n// configure router\nconst router = new VueRouter({\n  mode: 'history',\n  routes, // short for routes: routes\n  linkActiveClass: 'active',\n  scrollBehavior: (to, from ,savedPosition) => {\n    if (savedPosition) {\n      return savedPosition;\n    }\n    if (to.hash) {\n      return { selector: to.hash };\n    }\n    return { x: 0, y: 0 };\n  }\n});\n\nrouter.beforeEach((to, from, next) => {\n  if(to.matched.some(record => record.meta.requiresAuth)) {\n      let sesion = (localStorage.getItem('es-login') !== null)? JSON.parse(localStorage.getItem('es-login')):{_id:null, status:null, token:null, rol:null};\n      if (!sesion.status) {\n        next('/login')  \n      } else {\n        next()   \n      }\n  }else {\n      next() \n  }\n})\n\nexport default router;\n"]}]}