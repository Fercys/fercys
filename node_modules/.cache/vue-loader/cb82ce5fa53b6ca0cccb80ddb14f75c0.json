{"remainingRequest":"/home/fercys/Documentos/Argentina/europeshuttle_rhombus/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/fercys/Documentos/Argentina/europeshuttle_rhombus/src/views/Companies/Companies.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/fercys/Documentos/Argentina/europeshuttle_rhombus/src/views/Companies/Companies.vue","mtime":1563372426742},{"path":"/home/fercys/Documentos/Argentina/europeshuttle_rhombus/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/fercys/Documentos/Argentina/europeshuttle_rhombus/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/fercys/Documentos/Argentina/europeshuttle_rhombus/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/fercys/Documentos/Argentina/europeshuttle_rhombus/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n// @ is an alias to /src\nimport { mapMutations, mapGetters, mapActions } from \"vuex\";\nimport {\n  Table,\n  TableColumn,\n  DropdownMenu,\n  DropdownItem,\n  Dropdown\n} from \"element-ui\";\nimport serviceCompany from \"../../commons/services/company\";\nexport default {\n  name: \"Users\",\n  components: {\n    [Table.name]: Table,\n    [TableColumn.name]: TableColumn,\n    [Dropdown.name]: Dropdown,\n    [DropdownItem.name]: DropdownItem,\n    [DropdownMenu.name]: DropdownMenu\n  },\n  data() {\n    return {\n      currentPage: 1,\n      selectedRows: [],\n      currentRow: null,\n      loading: true\n    };\n  },\n\n  created() {\n    this.getCompanies();\n  },\n  methods: {\n    deleteCompany(_id){\n      serviceCompany.company.deleteCompany(_id).then((response)=>{\n        if (response.data.data.deleted) {\n          this.getCompanies()\n        }\n      }).catch((err)=>{\n        console.log(err)\n      })\n    },\n    onSelectionChange(selectedRows) {\n      this.selectedRows = selectedRows;\n    },\n    ...mapActions([\"getUsers\", \"getCompanies\"]),\n    ...mapMutations([\"setActiveItem\", \"setUsers\"])\n  },\n  computed: {\n    ...mapGetters([\"users\", \"responseCompany\"])\n  },\n  filters: {\n    typeUser: function(type_user) {\n      if (type_user === \"admin\") {\n        return \"Admin\";\n      } else if (type_user === \"driver\") {\n        return \"Driver\";\n      } else if (type_user === \"suppliers\") {\n        return \"Suppliers\";\n      } else if (type_user === \"client\") {\n        return \"Client\";\n      } else if (type_user === \"ote\") {\n        return \"OTE\";\n      } else {\n        return \"Client\";\n      }\n    }\n  }\n};\n",{"version":3,"sources":["Companies.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Companies.vue","sourceRoot":"src/views/Companies","sourcesContent":["<template>\n  <section>\n    <base-header class=\"pb-6\">\n      <div class=\"row align-items-center py-4\">\n        <div class=\"col-lg-6 col-7\">\n          <h6 class=\"h2 d-inline-block mb-0\">{{$route.name}}</h6>\n          <nav aria-label=\"breadcrumb\" class=\"d-none d-md-inline-block ml-md-4\">\n            <route-breadcrumb />\n          </nav>\n        </div>\n        <div class=\"col-lg-6 col-5 text-right\">\n          <base-button @click=\"$router.push('/dashboard')\" size=\"sm\" type=\"neutral\">Back</base-button>\n          <base-button @click=\"$router.push('/new-companies')\" size=\"sm\" type=\"primary\">New Company</base-button>\n        </div>\n      </div>\n    </base-header>\n    <div class=\"container-fluid mt--6\">\n      <div class=\"card\">\n        <div class=\"border-0 card-header\">\n          <div class=\"row align-items-center\">\n            <div class=\"col\">\n              <h3 class=\"mb-0\">Companies</h3>\n            </div>\n            <div class=\"col text-right\">\n              <base-button size=\"sm\" type=\"primary\" v-if=\"selectedRows.length > 0\">\n                  <span class=\"btn-inner--icon\"><i class=\"fas fa-user-edit\"></i></span>\n                  <span class=\"btn-inner--text\">Export</span>\n              </base-button>\n              <base-button size=\"sm\" type=\"danger\" v-if=\"selectedRows.length > 0\">\n                <span class=\"btn-inner--icon\"><i class=\"fas fa-trash\"></i></span>\n                <span class=\"btn-inner--text\">Delete</span>\n              </base-button>\n            </div>\n          </div>\n        </div>\n        <div class=\"card-body\">\n          <el-table\n            class=\"table-responsive table-flush\"\n            header-row-class-name=\"thead-light\"\n            :data=\"responseCompany.docs\"\n            @selection-change=\"onSelectionChange\"\n          >\n           <el-table-column type=\"selection\"\n                                    min-width=\"100px\"\n                                    sortable>\n            </el-table-column>\n            <el-table-column label=\"name\" min-width=\"200px\" prop=\"name\" sortable>\n              <template v-slot=\"{row}\">\n                <span class=\"font-weight-600 name mb-0 text-sm\">{{row.name}}</span>\n              </template>\n            </el-table-column>\n            <el-table-column label=\"Address\" min-width=\"300px\" sortable>\n              <template v-slot=\"{row}\">\n                <span class>{{row.address}}</span>\n              </template>\n            </el-table-column>\n            <el-table-column label=\"Phone\" prop=\"completion\" min-width=\"260px\" sortable>\n              <template v-slot=\"{row}\">\n                <span class>{{row.phone}}</span>\n              </template>\n            </el-table-column>\n            <el-table-column min-width=\"180px\" label=\"action\">\n              <template v-slot=\"{row}\">\n                <el-dropdown trigger=\"click\" class=\"dropdown\">\n                  <span class=\"btn btn-sm btn-icon-only text-light\">\n                    <i class=\"fas fa-ellipsis-v mt-2\"></i>\n                  </span>\n                  <el-dropdown-menu class=\"dropdown-menu dropdown-menu-arrow show\" slot=\"dropdown\">\n                    <router-link class=\"dropdown-item text-primary\" :to=\"`/edit-company/${row._id}`\">View</router-link>\n                    <a class=\"dropdown-item text-primary\" href=\"javascript:;\" @click=\"deleteCompany(row._id)\">Delete</a>\n                    <router-link\n                      class=\"dropdown-item text-primary\"\n                      :to=\"`/company/${row._id}/suppliers`\"\n                    >Suppliers</router-link>\n                  </el-dropdown-menu>\n                </el-dropdown>\n              </template>\n            </el-table-column>\n          </el-table>\n\n          <div class=\"card-footer py-4 d-flex justify-content-end\">\n            <base-pagination v-model=\"currentPage\" :total=\"2\"></base-pagination>\n          </div>\n        </div>\n      </div>\n    </div>\n  </section>\n</template>\n\n<script>\n// @ is an alias to /src\nimport { mapMutations, mapGetters, mapActions } from \"vuex\";\nimport {\n  Table,\n  TableColumn,\n  DropdownMenu,\n  DropdownItem,\n  Dropdown\n} from \"element-ui\";\nimport serviceCompany from \"../../commons/services/company\";\nexport default {\n  name: \"Users\",\n  components: {\n    [Table.name]: Table,\n    [TableColumn.name]: TableColumn,\n    [Dropdown.name]: Dropdown,\n    [DropdownItem.name]: DropdownItem,\n    [DropdownMenu.name]: DropdownMenu\n  },\n  data() {\n    return {\n      currentPage: 1,\n      selectedRows: [],\n      currentRow: null,\n      loading: true\n    };\n  },\n\n  created() {\n    this.getCompanies();\n  },\n  methods: {\n    deleteCompany(_id){\n      serviceCompany.company.deleteCompany(_id).then((response)=>{\n        if (response.data.data.deleted) {\n          this.getCompanies()\n        }\n      }).catch((err)=>{\n        console.log(err)\n      })\n    },\n    onSelectionChange(selectedRows) {\n      this.selectedRows = selectedRows;\n    },\n    ...mapActions([\"getUsers\", \"getCompanies\"]),\n    ...mapMutations([\"setActiveItem\", \"setUsers\"])\n  },\n  computed: {\n    ...mapGetters([\"users\", \"responseCompany\"])\n  },\n  filters: {\n    typeUser: function(type_user) {\n      if (type_user === \"admin\") {\n        return \"Admin\";\n      } else if (type_user === \"driver\") {\n        return \"Driver\";\n      } else if (type_user === \"suppliers\") {\n        return \"Suppliers\";\n      } else if (type_user === \"client\") {\n        return \"Client\";\n      } else if (type_user === \"ote\") {\n        return \"OTE\";\n      } else {\n        return \"Client\";\n      }\n    }\n  }\n};\n</script>\n<style lang=\"scss\"></style>\n"]}]}